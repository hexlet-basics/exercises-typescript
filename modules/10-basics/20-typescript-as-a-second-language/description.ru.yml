---

name: TypeScript
theory: |

  TypeScript на нашем проекте дается как второй язык. Поэтому вам стоит владеть JavaScript или другими языками программирования. Так вам будет легче понимать материал курса. Также нужно иметь представление о типах данных, переменных, условных конструкциях, циклах, функциях, свойствах и методах объектов и анонимных либо лямбда-функциях.

  Изучать второй язык проще первого, поэтому и структура материала сильно меняется. Здесь мы обзорно касаемся базовых конструкций, чтобы быстро познакомиться с синтаксисом, и переходим к задачам, ради которых и изучается TypeScript.
  
  В этом уроке мы узнаем, что такое TypeScript, а также разберем его особенности, установку и запуск. 

  ## Что такое TypeScript

  TypeScript — это JavaScript с дополнительным синтаксисом для указания типов данных. Он дает три основных преимущества:

  * Нахождение некоторых видов ошибок еще до запуска кода
  * Более простой рефакторинг кода
  * Полная поддержка возможностей редактора: автодополнения, навигации по коду и прочее

  В программировании языки делятся на две большие группы: динамически типизированные и статически типизированные. Преимущества TypeScript появляются за счет того, что  JavaScript относится к первой группе. У таких языков есть интерпретатор — программа, которая выполняет код построчно без предварительного анализа:

  ```bash
  # node (Node.js) — интерпретатор JavaScript
  # Код сразу запускается на исполнение
  node index.js
  ```

  Если в таком коде есть ошибки типов, например, в функцию вместо обычного числа пришло число типа `BigInt`, то об ошибке мы узнаем только во время запуска кода:

  ```javascript
  function sum(a, b) {
    return a + b;
  }

  sum(10n, 5); // упс
  // 10n — число типа BigInt, при сложении с обычным числом возникнет ошибка в рантайме
  // Uncaught TypeError: Cannot mix BigInt and other types, use explicit conversions
  ```

  TypeScript относится к статически типизированным языкам, поэтому работает по-другому. Перед запуском кода этих языков на выполнение его нужно скомпилировать.
  
  Во время компиляции проверяется, что программа **типобезопасна** — не содержит ошибок, подобных примеру выше. Если компилятор нашел несоответствие типов, то он останавливает компиляцию и выводит предупреждения о том, где типы не сходятся. Тот же пример на TypeScript:

  ```typescript
  function sum(a: number, b: number) {
    return a + b;
  }

  sum(10n, 5);
  // Возникнет ошибка на этапе компиляции
  // Argument of type 'bigint' is not assignable to parameter of type 'number'.
  ```

  Код выше не только не запустится на исполнение, но и не прошел компиляцию. Компилятор TypeScript остановит выполнение и укажет на ошибку несоответствия типов.

  Посмотрите на определение функции. Перед нами практически тот же JavaScript, за исключением описания типов входных переменных функции. Там указано, что у параметром `a` и `b` тип `number`. Примерно так же аннотируется типами и остальной код на TypeScript. Местами описания типов могут быть очень сложными, но сама идея остается прежней.

  ## Какие языки лучше

  Нельзя сказать однозначно, какой подход лучше — статическая или динамическая типизация. Всё зависит от конкретной ситуации, а успешные проекты могут быть на разных языках.
  
  Например, программы на интерпретируемых языках получаются короче и писать на них легко, особенно в небольших проектах. С сотнями тысяч и миллионами строк кода типобезопасность и поддержка редактора становится более важным фактором.

  ## Какие особенности у TypeScript

  Сейчас у фронтенд-приложения могут быть большие команды в десятки и сотни разработчиков. В таких условиях был необходим статически типизированный язык. И таких языков было много. Но только TypeScript смог набрать огромную популярность благодаря следующим особенностям:

  * TypeScript практически полностью совместим с JavaScript с точки зрения возможностей и типов. Всё, что есть в TypeScript, есть и в JavaScript, и наоборот. TypeScript называют **надмножеством** языка JavaScript. То есть это тот же JavaScript + описание типов
  * Компилятор TypeScript превращает его код в код на JavaScript. То есть он удаляет определения типов из кода на TypeScript. Этот процесс еще принято называть **транспиляцией**
  * Разработчик TypeScript — Microsoft
  * Строгая типизация
  
  Последнюю особенность разберем подробнее.

  ### Строгая типизация

  Строгая типизация не связана со статической. Она говорит о том, насколько язык допускает автоматические преобразования типов. То есть статический язык может быть нестрогим, и наоборот.

  Например, в JavaScript мы можем сложить число со строкой. Когда язык встречает такую конструкцию, он автоматически выполнит преобразование типов: `10 + 'one'`. В TypeScript так не получится, он выдаст ошибку: `The right-hand side of an arithmetic operation must be of type 'any', 'number', 'bigint' or an enum type`.

  Многие динамические языки строго типизированы. Например, к ним относятся Ruby и Python. Строгая типизация делает язык только лучше и не усложняет процесс программирования.

  ## Как установливать и запускать TypeScript

  Сам TypeScript написан на TypeScript, который затем транспилируется в JavaScript и распространяется как обычный npm-пакет. Поэтому установка TypeScript предельно простая:

  ```bash
  # Должна быть установлена Node.js
  # Внутри проекта, где будет использоваться TypeScript
  npm install typescript
  ```

  Затем нужно создать файлы с кодом на TypeScript. Они имеют расширение *ts*. Компилятор TypeScript доступен через утилиту `tsc`:

  ```bash
  npx tsc index.ts
  ```

  На выходе получается файл с JavaScript кодом, который уже можно запускать с помощью Node.js:

  ```bash
  node index.js
  ```

  Также можно использовать блее простой способ. Можно поставить пакет [ts-node](https://github.com/TypeStrong/ts-node), который выполняет одновременно компиляцию и запуск. Этот пакет предоставляет репл для экспериментов с TypeScript.

instructions: |

  По образцу примера с суммой из урока напишите функцию, которая находит произведение переданных чисел:

  ```typescript
  multi(3, 8); // 24
  multi(1, 2); // 2
  ```

tips:
  - |
    [JavaScript/TypeScript-комьюнити](https://slack-ru.hexlet.io/)
  - |
    [TypeScript бойлерплейт](https://github.com/hexlet-boilerplates/typescript-package)
  - |
    [Ликбез по типизации (Habr)](https://habr.com/ru/post/161205/)
  - |
    [Для чего нужен TypeScript](https://typescript-definitive-guide.ru/book/chapters/Chto_takoe_TypeScript_i_dlya_chego_on_nujen/#Dlya_chego_nujen_TypeScript)
  - |
    [Playground с возможностью увидеть результат транспиляции TypeScript в JavaScript](https://www.typescriptlang.org/play)
